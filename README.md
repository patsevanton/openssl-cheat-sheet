# Генерация открытых и закрытых ключей

## Генерация RSA-ключей

### Базовые команды:
Генерация 2048-битного закрытого RSA-ключа:
```bash
openssl genrsa -out KEY1.pem 2048
```

Генерация 4096-битного закрытого RSA-ключа с шифрованием AES128:
```bash
openssl genrsa -out KEY2.pem -aes128 4096
```

### Особенности:
- Размер ключа всегда указывается последним аргументом
- Пропуск аргумента `-out` выводит результат в стандартный вывод
- Файл PEM содержит как открытый, так и закрытый ключ в кодировке base64

### Доступные алгоритмы шифрования:
- `-aes128`, `-aes192`, `-aes256`
- `-des3`, `-des` (устаревшие, не рекомендуется использовать)

## Просмотр содержимого RSA-ключей

Для просмотра содержимого закрытого ключа:
```bash
openssl rsa -in KEY1.pem -text -noout
```

Содержимое включает:
- Modulus (Модуль) — основное число, произведение двух простых чисел.
- Public Exponent (Открытая экспонента) — публичная часть ключа.
- Private Exponent (Закрытая экспонента) — секретная часть ключа.
- Два простых числа (p и q) — исходные множители модуля.
- Другие параметры — служебные данные для ускорения вычислений.

## Различия между зашифрованными и незашифрованными ключами

**Незашифрованный ключ:** начинается сразу с `-----BEGIN PRIVATE KEY-----`

**Зашифрованный ключ:** содержит заголовок с указанием алгоритма шифрования (например, `AES-128-CBC`)

## Дополнительные возможности

Просмотр всех доступных алгоритмов шифрования:
```bash
openssl list-cipher-algorithms
```

## Генерация других типов ключей


### Ключи на эллиптических кривых (EC):

Создание файла параметров EC
```bash
openssl genpkey --genparam --algorithm EC --pkeyopt ec_paramgen_curve:secp384r1 --out EC-PARAM.pem
```

Генерация ключей EC из файла параметров  
```bash
openssl genpkey --paramfile EC-PARAM.pem --out EC-KEY.pem
```

Прямая генерация ключей EC  
```bash
openssl genpkey --algorithm EC --pkeyopt ec_paramgen_curve:P-384 --out EC-KEY.pem
```

Рекомендуемые кривые: secp521r1, secp384r1, secp256k1 (идентичны P-521, P-384, P-256)

Просмотр поддерживаемых эллиптических кривых  :
```bash
openssl ecparam -list_curves
```

Конечно, вот перевод содержимого файла на русский язык:

**Проверка параметров и ключей EC (Эллиптической кривой)**

**Проверка файла параметров Эллиптической кривой (EC)**
```
openssl ecparam -in EC-PARAM.pem -text -noout
```

**Проверка файла закрытого ключа Эллиптической кривой (EC)**
```
openssl ec -in EC-KEY.pem -text -noout
```
